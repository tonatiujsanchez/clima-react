var $=Object.defineProperty,q=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var g=(s,t,a)=>t in s?$(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,v=(s,t)=>{for(var a in t||(t={}))P.call(t,a)&&g(s,a,t[a]);if(x)for(var a of x(t))w.call(t,a)&&g(s,a,t[a]);return s},C=(s,t)=>q(s,L(t));import{j as m,r as c,a as b,R as B,b as D}from"./vendor.c4f8656b.js";const I=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}};I();const e=m.exports.jsx,r=m.exports.jsxs,_=m.exports.Fragment,y=c.exports.createContext(),T=({children:s})=>{const[t,a]=c.exports.useState({ciudad:"",pais:""}),[i,n]=c.exports.useState({}),[o,l]=c.exports.useState(!1),[f,p]=c.exports.useState(""),N=d=>{a(C(v({},t),{[d.target.name]:d.target.value}))},S=async()=>{n({}),l(!0);const{ciudad:d,pais:R}=t;try{const u="1596e826347be29d90380f1370b7e183",F=`https://api.openweathermap.org/geo/1.0/direct?q=${d},${R}&limit=${1}&appid=${u}`,{data:M}=await b.get(F),{lat:E,lon:j}=M[0],A=`https://api.openweathermap.org/data/2.5/weather?lat=${E}&lon=${j}&appid=${u}`,{data:O}=await b.get(A);n(O)}catch(u){console.log(u),p(`No se encontraron resultados para: <span>${d}</span>`)}finally{setTimeout(()=>{l(!1)},2e3)}};return e(y.Provider,{value:{busqueda:t,datosBusqueda:N,getClima:S,resultado:i,cargando:o,sinResultados:f},children:s})},h=()=>c.exports.useContext(y),k=()=>{const[s,t]=c.exports.useState(""),{busqueda:a,datosBusqueda:i,getClima:n}=h(),{ciudad:o,pais:l}=a;return r("div",{className:"contenedor",children:[s&&e("p",{className:"alerta",children:s}),r("form",{onSubmit:p=>{if(p.preventDefault(),Object.values(a).includes("")){t("Todos los campos son obligatorios");return}t(""),n()},children:[r("div",{className:"campo",children:[e("label",{htmlFor:"ciudad",children:"Ciudad"}),e("input",{type:"text",id:"ciudad",name:"ciudad",value:o,onChange:i})]}),r("div",{className:"campo",children:[e("label",{htmlFor:"pais",children:"Pa\xEDs"}),r("select",{name:"pais",id:"pais",value:l,onChange:i,children:[e("option",{value:"",children:"--Selecciones un pa\xEDs --"}),e("option",{value:"US",children:"Estados Unidos"}),e("option",{value:"MX",children:"M\xE9xico"}),e("option",{value:"AR",children:"Argentina"}),e("option",{value:"CO",children:"Colombia"}),e("option",{value:"CR",children:"Costa Rica"}),e("option",{value:"ES",children:"Espa\xF1a"}),e("option",{value:"PE",children:"Per\xFA"})]})]}),e("input",{type:"submit",value:"Cosultar Clima"})]})]})},U=()=>{const{resultado:s}=h(),{name:t,main:a}=s,i=273.15,n=(a.temp-i).toFixed(2),o=(a.temp_max-i).toFixed(2),l=(a.temp_min-i).toFixed(2);return r("div",{className:"contenedor clima",children:[e("h2",{children:t}),r("p",{children:[n," ",e("span",{children:"\u2103"})]}),r("div",{className:"temp-min-max",children:[r("p",{children:[" Min: ",l,e("span",{children:"\u2103"})," "]}),r("p",{children:[" Max: ",o,e("span",{children:"\u2103"})," "]})]})]})},H=()=>e("div",{className:"loading",children:r("div",{className:"centered",children:[e("div",{className:"blob-1"}),e("div",{className:"blob-2"})]})}),K=()=>{const{resultado:s,cargando:t,sinResultados:a}=h();return e(_,{children:r("main",{className:"dos-columnas",children:[e(k,{}),t?e(H,{}):Object.keys(s).length>0?e(U,{}):a?e("p",{className:"sin-resultados",dangerouslySetInnerHTML:{__html:a}}):e("p",{className:"sin-resultados",children:"Consulta el Clima"})]})})};function X(){return r(T,{children:[e("header",{children:e("h1",{children:"Buscador de Clima"})}),e(K,{})]})}B.render(e(D.StrictMode,{children:e(X,{})}),document.getElementById("root"));
